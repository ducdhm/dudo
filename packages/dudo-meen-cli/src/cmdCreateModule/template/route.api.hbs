module.exports = (app, config, controller) => {
    const ensureLoggedIn = require('../../middlewares/ensureLoggedIn')(app);

    app.get(
        app.getUrl('/api/{{ nameKebab }}'),
        app.redirectTo(app.getUrl('/{{ nameKebab }}/')),
    );

    app.get(
        app.getUrl('/api/{{ nameKebab }}/'),
        ensureLoggedIn,
        controller.show{{ namePascal }}List,
    );

    app.get(
        app.getUrl('/api/{{ nameKebab }}/:id'),
        ensureLoggedIn,
        controller.resolver,
        controller.show{{ namePascal }}Details,
    );

    app.post(
        app.getUrl('/api/{{ nameKebab }}/:id'),
        ensureLoggedIn,
        controller.resolver,
        controller.save{{ namePascal }},
    );

    app.post(
        app.getUrl('/api/{{ nameKebab }}/:id/delete'),
        ensureLoggedIn,
        controller.resolver,
        controller.delete{{ namePascal }},
    );
};
